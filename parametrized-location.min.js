/*! parametrizedLocation - v0.3.1 - 2013-09-16
* https://plus.google.com/u/0/109953552136391486842
* Copyright (c) 2013 Peter Ahlers (eonlepapillon); Licensed MIT */
!function(a,b,c){"use strict";function d(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=e(b[c]);return b.join("/")}function e(a){return f(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function f(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function g(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function h(a,b,c){for(var d=g(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function i(a,b){if(!b)return a;var d=[],e=a,f="";return a.split("#").length>1&&(e=a.slice(0,a.lastIndexOf("#")),f=a.slice(a.lastIndexOf("#"))),h(b,function(a,b){null!==a&&a!==c&&(angular.isArray(a)||(a=[a]),angular.forEach(a,function(a){angular.isObject(a)&&(a=angular.toJson(a)),d.push(b+"="+a)}))}),e+(-1===e.indexOf("?")?"?":"&")+d.join("&")+f}function j(a,b,c){var d,e={},f={},g=!1;return angular.forEach(a.split(/\W/),function(b){!new RegExp("^\\d+$").test(b)&&b&&new RegExp("(^|[^\\\\]):"+b+"(\\W|$)").test(a)&&(e[b]=!0)}),a=a.replace(/\\:/g,":"),b=b||{},angular.forEach(e,function(c,e){d=b[e],a=angular.isDefined(d)&&null!==d?a.replace(new RegExp(":"+e+"(\\W|$)","g"),d+"$1"):a.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(a,b,c){return"/"===c.charAt(0)?c:b+c})}),a=a.replace(/\/+$/,""),a=a.replace(/\/\.(?=\w+($|\?))/,"."),a=a.replace(/\/\\\./,"/."),angular.forEach(b,function(a,b){e[b]||(g=!0,f[b]=a)}),c&&g&&(a=i(a,f)),a}var k=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/;angular.module("parametrizedLocation",[]).config(["$provide",function(a){a.decorator("$location",["$delegate",function(a){var b=a.url,d=a.path,e=a.hash;return a.url=function(d,e,f){return angular.isObject(e)&&(f=e,e=c),angular.isObject(f)&&(d=j(d,f,!0)),b.call(a,d,e)},a.path=function(b,c){return angular.isObject(c)&&(b=j(b,c)),d.call(a,b)},a.hash=function(b,c){return angular.isObject(c)&&(b=j(b,c)),e.call(a,b)},a}])}]).filter("paramsUrl",function(){return function(a,b){if(!angular.isObject(b))return a;var c=k.exec(j(a,b,!0)),f="",g="",h="";return c[1]&&(f=d(c[1])),(c[2]||c[1])&&c[3]&&(g="?"+e(c[3]||"")),c[5]&&(h="#"+e(c[5])),f+g+h}})}(window,document);